<div class="dashboard-container" *ngIf="dashBoardResponse">
    <div class="dashboard-header">
        <h2>Welcome, {{ userName }}</h2>
        <span class="role-badge">{{ userType }}</span>
    </div>

    <div class="stats-container">
        <div class="stat-card">
            <p>Total Points Bought</p>
            <h2>{{ dashBoardResponse.totalBoughtPoints }}</h2>
        </div>
        <div class="stat-card">
            <p>Total Points Left</p>
            <h2>{{ dashBoardResponse.totalLeftPoints }}</h2>
        </div>
        <div class="stat-card">
            <p>Total Requested Points</p>
            <h2>{{ dashBoardResponse.totalRequestedPoints }}</h2>
        </div>
    </div>

    <div class="message-stats-container">
        <div class="stat-card total-messages">
            <p>Total Messages</p>
            <h2>{{ dashBoardResponse.totalMessages }}</h2>
        </div>
        <div class="stat-card sent-messages">
            <p>Sent Messages</p>
            <h2>{{ dashBoardResponse.SENT || 0 }}</h2>
        </div>
        <div class="stat-card failed-messages">
            <p>Failed Messages</p>
            <h2>{{ dashBoardResponse.FAILED || 0 }}</h2>
        </div>
    </div>

    <div class="graph-container">
        <canvasjs-chart [options]="chartOptions" [styles]="{width: '100%', height:'300px'}"></canvasjs-chart>
    </div>

    <div class="api-key-section">
        <div class="api-key-info">
            <p><strong>Last Generated:</strong> {{ dashBoardResponse.apiKeyLastGeneratedDateTime }}</p>
        </div>
        <button type="button" (click)="getKeyPage()" [disabled]="getLoggedRole()">Get Key</button>
    </div>

    <div class="session-container">
        <p><strong>Session:</strong> <span [ngClass]="sessionDataWithColor()">{{ dashBoardResponse.whatsAppSessionDetail }}</span></p>
        <p><strong>Last Registered Date:</strong> {{ dashBoardResponse.whatsAppLastRegisteredDateTime }}</p>
    </div>
</div>
